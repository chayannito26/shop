@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Variables for theming */
:root {
  /* Light theme colors - Strong Crimson tinted grays */
  --color-bg-primary: 248 240 242; /* noticeable crimson-tinted gray-50 */
  --color-bg-secondary: 253 248 250; /* clear crimson-tinted white */
  --color-bg-tertiary: 242 232 236; /* strong crimson-tinted gray-100 */
  --color-text-primary: 40 20 25; /* deep crimson-black */
  --color-text-secondary: 100 70 78; /* crimson-gray-600 */
  --color-text-tertiary: 180 150 158; /* crimson-gray-400 */
  --color-border: 230 215 220; /* crimson-gray-200 */
  --color-border-hover: 210 190 198; /* crimson-gray-300 */
  --color-accent: 220 38 38; /* red-600 */
  --color-accent-hover: 185 28 28; /* red-700 */
  --color-accent-light: 254 226 226; /* red-100 */
  --color-success: 34 197 94; /* green-500 */
  --color-warning: 245 158 11; /* amber-500 */
  --color-error: 239 68 68; /* red-500 */
  --color-error-light: 254 226 226; /* red-100 */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --focus-glow-alpha: 0.45;
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Strong Crimson-black dark theme colors */
    --color-bg-primary: 35 10 18; /* intensely deep crimson-black */
    --color-bg-secondary: 45 30 35; /* strong crimson-gray-800 */
    --color-bg-tertiary: 65 45 52; /* crimson-gray-700 */
    --color-text-primary: 252 248 250; /* warm white */
    --color-text-secondary: 220 200 208; /* warm crimson-gray-300 */
    --color-text-tertiary: 170 140 150; /* warm crimson-gray-400 */
    --color-border: 85 60 68; /* crimson-gray-600 */
    --color-border-hover: 115 85 95; /* crimson-gray-500 */
    --color-accent: 220 38 38; /* red-600 */
    --color-accent-hover: 185 28 28; /* red-700 */
    --color-accent-light: 45 30 35; /* strong crimson-gray-800 */
    --color-success: 34 197 94; /* green-500 */
    --color-warning: 245 158 11; /* amber-500 */
    --color-error: 248 113 113; /* red-400 */
    --color-error-light: 65 45 52; /* crimson-gray-700 */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.4);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.4);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4);
    --focus-glow-alpha: 0.6;
  }
}

/* Smooth transitions for theme changes */
* {
  transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out, color 0.2s ease-in-out;
}

/* Fix overscroll behavior to avoid blue theme */
html {
  overscroll-behavior: none;
}

body {
  overscroll-behavior: none;
  background-color: rgb(var(--color-bg-primary));
}

/* Custom animations */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.5s ease-out;
}

@keyframes bounce-in {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-bounce-in {
  animation: bounce-in 0.6s ease-out;
}

@keyframes slide-up {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slide-up 0.4s ease-out;
}

/* Text truncation utilities */
.line-clamp-1 {
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}


@font-face {
  font-family: 'Baloo Da 2';
  src: url('/baloo-da-2.woff2') format('woff2'),
       url('/baloo-da-2.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

.font-bn {
  font-family: 'Baloo Da 2', cursive, sans-serif !important;
}

* {
  transition: none !important;
}

/* Custom utility classes using CSS variables */
.bg-theme-primary {
  background-color: rgb(var(--color-bg-primary));
}

.bg-theme-secondary {
  background-color: rgb(var(--color-bg-secondary));
}

.bg-theme-tertiary {
  background-color: rgb(var(--color-bg-tertiary));
}

.text-theme-primary {
  color: rgb(var(--color-text-primary));
}

.text-theme-secondary {
  color: rgb(var(--color-text-secondary));
}

.text-theme-tertiary {
  color: rgb(var(--color-text-tertiary));
}

.border-theme {
  border-color: rgb(var(--color-border));
}

.border-theme-hover:hover {
  border-color: rgb(var(--color-border-hover));
}

.bg-accent {
  background-color: rgb(var(--color-accent));
}

.bg-accent:hover {
  background-color: rgb(var(--color-accent-hover));
}

.text-accent {
  color: rgb(var(--color-accent));
}

.shadow-theme-sm {
  box-shadow: var(--shadow-sm);
}

.shadow-theme-md {
  box-shadow: var(--shadow-md);
}

.shadow-theme-lg {
  box-shadow: var(--shadow-lg);
}

/* High-contrast focus indicators (keyboard only) */
/* Form controls: inputs, selects, textareas */
input[type="text"],
input[type="email"],
input[type="tel"],
input[type="number"],
input[type="search"],
input[type="password"],
select,
textarea {
  caret-color: rgb(var(--color-accent));
  /* Keep smooth transitions from the global rule */
}

input[type="text"]:focus-visible,
input[type="email"]:focus-visible,
input[type="tel"]:focus-visible,
input[type="number"]:focus-visible,
input[type="search"]:focus-visible,
input[type="password"]:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid rgb(var(--color-accent));
  outline-offset: 2px;
  /* Subtle glow that stands out on dark background */
  box-shadow:
    0 0 0 3px rgba(var(--color-accent) / var(--focus-glow-alpha)),
    var(--shadow-md);
  border-color: rgb(var(--color-accent));
}

/* Links and buttons: visible focus too */
a:focus-visible,
button:focus-visible {
  outline: 2px solid rgb(var(--color-accent));
  outline-offset: 3px;
  box-shadow: 0 0 0 3px rgba(var(--color-accent) / var(--focus-glow-alpha));
  border-radius: 6px;
}

/* Error state emphasis for form controls */
input[aria-invalid="true"],
select[aria-invalid="true"],
textarea[aria-invalid="true"] {
  border-color: rgb(var(--color-error));
  box-shadow: 0 0 0 2px rgba(var(--color-error) / 0.25);
}